<!doctype html>
<html>
<head>
<title>
  es6 fundamental concepts
</title>
<style>

body {
  padding:0 1.5rem 0 1.5rem;
}

hr {
  margin: 2rem 0 2rem 0;
}

pre {
  background: #f9f9f9;
  padding:1rem;
}

#goToTop {
  position: fixed;
  width: 2rem;
  height: 2rem;
  text-align: center;
  cursor: pointer;
  background-color: #e1e1e1;
  padding: 1rem;
  bottom: 1rem;
  right: 1rem;
}

</style>
</head>
<body id="top">

<div id="goToTop">
  <a href="#top">
    ^<br>top
  </a>
</div>

<h1>
    es6: fundamental concepts
</h1>

<h2>
  Topics
</h2>
<ul>
  <li>
    <a href="#constants">Constants</a>
  </li>
  <li>
    <a href="#blockScope">Block-Scoped variables</a>
  </li>
  <li>
    <a href="#arrowFunctions">Arrow functions</a>
  </li>
  <li>
    <a href="#lexicalThis">Lexical <code>this</code></a>
  </li>
  <li>
    <a href="#restParameters">Rest parameters</a>
  </li>
  <li>
    <a href="#spreadOperator">Spread Operator</a>
  </li>
  <li>
    <a href="#templateLiterals">Template Literals</a>
  </li>
  <li>
    <a href="#objectShorthand">Object shorthand</a>
  </li>
  <li>
    <a href="#promises">Promises</a>
  </li>
  <li>
    <a href="#references">References</a>
  </li>
</ul>

<hr>

<section role="main">
  <h2 id="constants">
    Constants
  </h2>
  <pre>
    const diameterOfEarth = 7917.5;
  </pre>

  <h2 id="blockScope">
    Block-Scoped Variables
  </h2>
  <pre>
    for (let i = 0; i < a.length; i++) {
      let x = a[i]
    }
    for (let i = 0; i < b.length; i++) {
      let y = b[i]
    }
  </pre>

  <h2 id="arrowFunctions">
    Arrow functions
  </h2>
  <pre>
    odds  = evens.map(v => v + 1)
    pairs = evens.map(v => ({ even: v, odd: v + 1 }))
    nums  = evens.map((v, i) => v + i)
  </pre>

  <h2 id="lexicalThis">
    Lexical <code>this</code>
  </h2>
  <p>
    Replaces the traditional use of <code>var self = this</code>
  </p>
  <pre>
    this.nums.forEach((v) => {
    if (v % 5 === 0)
        this.fives.push(v)
    })
  </pre>

  <h2 id="defaultParameters">
    Default Parameters
  </h2>
  <pre>
    function f (x, y = 7, z = 42) {
        return x + y + z;
    }
    f(1) === 50;
  </pre>

  <h2 id="restParameters">
    Rest parameters
  </h2>
  <pre>
    function f (x, y, ...a) {
      return (x + y) * a.length
    }
    f(1, 2, "hello", true, 7) === 9
  </pre>

  <h2 id="spreadOperator">
    Spread Operator
  </h2>
  <pre>
    var params = [ "hello", true, 7 ]
    var other = [ 1, 2, ...params ] // [ 1, 2, "hello", true, 7 ]

    function f (x, y, ...a) {
        return (x + y) * a.length
    }
    f(1, 2, ...params) === 9

    var str = "foo"
    var chars = [ ...str ] // [ "f", "o", "o" ]
  </pre>

  <h2 id="templateLiterals">
    Template Literals
  </h2>
  <pre>
    var customer = { name: "Foo" }
    var card = { amount: 7, product: "Bar", unitprice: 42 }
    var message = `Hello ${customer.name},
    want to buy ${card.amount} ${card.product} for
    a total of ${card.amount * card.unitprice} bucks?`
  </pre>

  <h2 id="objectShorthand">
    Object shorthand
  </h2>
  <pre>
    obj = { x, y }
  </pre>
  <p>
    The above ES6 syntax is equivalent to the following ES5 syntax:
  </p>
  <pre>
    obj = { x: x, y: y };
  </pre>

  <h2 id="promises">
    Promises
  </h2>
  <pre>
    function msgAfterTimeout (msg, who, timeout) {
      return new Promise((resolve, reject) => {
          setTimeout(() => resolve(`${msg} Hello ${who}!`), timeout)
      })
    }
    msgAfterTimeout("", "Foo", 100).then((msg) =>
        msgAfterTimeout(msg, "Bar", 200)
    ).then((msg) => {
        console.log(`done after 300ms:${msg}`)
    })
  </pre>

  <!--
  <h2 id="">
  </h2>
  <pre>
  </pre>
  -->

  <hr/>

  <h2 id="references">
    References
  </h2>
  <ul>
    <li>
      <a href="http://es6-features.org/" target="_blank">http://es6-features.org/</a>
    </li>
  </ul>
</section>

<script src="main.js"></script>
</body>
</html>